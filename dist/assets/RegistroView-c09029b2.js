import{_ as V,h as k,u as R,i as f,j as v,r as h,o as i,c as l,a,k as q,l as w,v as g,n as m,t as d,e as p,g as _,m as N,w as S}from"./index-aef3be03.js";const T={class:"register-container"},U={class:"card",style:{"max-width":"400px"}},B={class:"form-group"},E={key:0,class:"error-message"},L={class:"form-group"},D={key:0,class:"error-message"},I={class:"form-group"},M={key:0,class:"error-message"},j=["disabled"],z={class:"login-link"},A={__name:"RegistroView",setup(F){const y=k(),b=R(),u=f(!1),t=f(""),c=f(""),r=v({username:"",password:"",confirmPassword:""}),s=v({username:"",password:"",confirmPassword:""}),P=()=>{let o=!0;return s.username="",s.password="",s.confirmPassword="",r.username.trim()?r.username.length<3&&(s.username="El usuario debe tener al menos 3 caracteres",o=!1):(s.username="El usuario es obligatorio",o=!1),r.password?r.password.length<6&&(s.password="La contraseña debe tener al menos 6 caracteres",o=!1):(s.password="La contraseña es obligatoria",o=!1),r.confirmPassword?r.password!==r.confirmPassword&&(s.confirmPassword="Las contraseñas no coinciden",o=!1):(s.confirmPassword="Confirma tu contraseña",o=!1),o},x=async()=>{if(!P())return;u.value=!0,t.value="";const o=await b.register(r.username,r.password);o.success?(t.value="¡Cuenta creada exitosamente! Redirigiendo al login...",c.value="success",setTimeout(()=>{y.push("/login")},2e3)):(t.value=o.message,c.value="error"),u.value=!1};return(o,e)=>{const C=h("router-link");return i(),l("div",T,[a("div",U,[e[8]||(e[8]=a("h2",null,"Crear Cuenta",-1)),a("form",{onSubmit:q(x,["prevent"])},[a("div",B,[e[3]||(e[3]=a("label",{for:"username"},"Usuario:",-1)),w(a("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>r.username=n),required:"",class:m({"input-error":s.username})},null,2),[[g,r.username]]),s.username?(i(),l("span",E,d(s.username),1)):p("",!0)]),a("div",L,[e[4]||(e[4]=a("label",{for:"password"},"Contraseña:",-1)),w(a("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>r.password=n),required:"",class:m({"input-error":s.password})},null,2),[[g,r.password]]),s.password?(i(),l("span",D,d(s.password),1)):p("",!0)]),a("div",I,[e[5]||(e[5]=a("label",{for:"confirmPassword"},"Confirmar Contraseña:",-1)),w(a("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=n=>r.confirmPassword=n),required:"",class:m({"input-error":s.confirmPassword})},null,2),[[g,r.confirmPassword]]),s.confirmPassword?(i(),l("span",M,d(s.confirmPassword),1)):p("",!0)]),a("button",{type:"submit",class:"btn btn-primary",disabled:u.value,style:{width:"100%"}},d(u.value?"Registrando...":"Registrarse"),9,j),a("p",z,[e[7]||(e[7]=_(" ¿Ya tienes cuenta? ",-1)),N(C,{to:"/login"},{default:S(()=>[...e[6]||(e[6]=[_("Inicia sesión aquí",-1)])]),_:1})])],32),t.value?(i(),l("div",{key:0,class:m(["message",c.value])},d(t.value),3)):p("",!0)])])}}},G=V(A,[["__scopeId","data-v-3d3405e3"]]);export{G as default};
